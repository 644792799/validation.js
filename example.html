<!doctype html>
<html lang="en">
<head>

	<meta http-equiv="X-UA-Compatible" content="IE=Edge;chrome=1" />
	<meta charset="utf-8" />

	<title>Simple Form Validation</title>

	<style>
	body {
		font-size:0.75em;
		font-family:Arial, sans-serif;
		color:#333;
		background:#fff;
	}

	h1, h2, h3, h4, h5, h6 {
		line-height:1;
	}
		h1 {
			font-size:2.33em;
		}
		h2, h3, h4, h5, h6 {
			font-size:1.5em;
			margin:2em 0 0.5em;
		}

	p, ul, ol, pre {
		margin:0 0 1em;
		line-height:1.5;
	}

	ul {
		margin-left:15px;
		padding:0;
		list-style:disc inside;
	}

	dl {
		margin:1em 0 1em 15px;
	}
		dt {
			line-height:1.5;
			font-size:1.143em;
			font-weight:bold;
		}
		dd {
			margin:0 0 1.5em;
		}
			dd dt, dl.small dt {
				font-size:1em;
			}

	pre, code {
		font-size:1.071em;
		font-family:Consolas, "Lucida Console", Monaco, monospace;
		color:#80f;
		cursor:help;
	}
		pre {
			overflow:hidden;
			background:#eee;
		}

	#content {
		width:640px;
		margin:20px auto;
	}

	/* Example styles */
	label {
		display:block;
		line-height:1.5;
		white-space:nowrap;
	}

	input, textarea {
		width:240px;
		height:1.2em;
		padding:5px;
		font:inherit;
		color:#888;
	}
		input:focus, textarea:focus {
			color:#000;
		}
		textarea {
			height:6em;
			resize:none;
		}
		.checkbox input, input[type=checkbox] {
			float:left;
			width:auto;
			height:auto;
			margin-right:10px;
			padding:0;
		}

	.error {
		clear:both;
		color:#f00;
	}

	button {
		padding:5px 6px;
	}

	.row {
		margin-bottom:0.5em;
	}
	</style>

</head>
<body>

	<div id="content">

		<h1>Simple Form Validation</h1>

		<p>Standalone, understandable Javascript form validation. No gimmicks, fluff or feature bloat. Includes methods to check
		for value present/empty, email address format, URLs, custom expressions and comprehensive date validation.</p>

		<p>Written by <a href="http://www.maketea.co.uk">Matt Hinchliffe</a> and fully tested in the following browsers:</p>

		<ul>
			<li>Firefox 3.6 and 4</li>
			<li>Safari 5</li>
			<li>Chrome 8 and 9</li>
			<li>Internet Explorer 6, 7, 8 and 9</li>
			<li>Opera 11</li>
		</ul>

		<h2>Installation</h2>

		<p>Include the Javascript file (minified version recommended for production use) within your page and instantiate a new Validation
		object using the <code>Validate()</code> constructor method.</p>

		<p><code>var check_this = Validate('my_form', { methods }, { options });</code></p>

		<p>The constructor takes 3 arguments:</p>

		<dl class="small">
			<dt>Form ID</dt>
			<dd>
				<p>The ID string of your form for use with <code>document.getElementbyId</code>.</p>
			</dd>
			<dt>Validation methods</dt>
			<dd>
				<p>This is an object in the format <code>{ input: { method: arguments } }</code> where '<em>input</em>' is the ID of the
				form input to validate; '<em>method</em>' is a reference to a validation method (listed below) and '<em>arguments</em>' is
				a single argument or array of arguments for the validation method. <a href="#methods">See validation methods</a>.</p>
			</dd>
			<dt>Options</dt>
			<dd>
				<p>Optional. Default options can be overwritten for each Validation instance. All options are related to the
				display of error messages. <a href="#options">See options</a>.</p>
			</dd>
		</dl>

		<h3 id="methods">Validation methods</h3>

		<p><strong>Please note</strong> that if you are specifying arguments as an array the last argument must be an error message string
		to display for that method. If you do not wish to use the individual error messages you may leave a blank string or any value that
		will be evaluated as false as the last array value.</p>

		<dl>
			<dt>present</dt>
			<dd>

				<p>Test if any value is present or checked. Arguments available are:</p>

				<ol>
					<li>Not. A value is (<code>true</code>) or is not (<code>false</code>) present.</li>
				</ol>

			</dd>

			<dt>test</dt>
			<dd>

				<p>Test a value string against a regular expression. Arguments available are:</p>

				<ol>
					<li>
						<p>Regular expression. A string reference to an expression. Expressions available are:</p>

						<ul>
							<li>
								<dfn title="([a-z0-9_\-])"><code>alphanumeric</code></dfn>
								Characters a-z, 0-9, underscores and hyphens of any length in lowercase only.
							</li>
							<li>
								<dfn title="([0-9])+"><code>number</code></dfn>
								Characters 0-9 only of any length.
							</li>
							<li>
								<dfn title="(^[a-z])+"><code>text</code></dfn>
								Characters a-z of any length in either case.
							</li>
							<li>
								<dfn title="^([a-z0-9_\.\-]+)@([\da-z\.\-]+)\.([a-z\.]{2,6})"><code>email</code></dfn>
								TLD email address.
							</li>
							<li>
								<dfn title="(https?:\/\/)?([\da-z\.\-]+)\.([a-z\.]{2,6})([\/\w \.\-]*)*\/?"><code>url</code></dfn>
								URL with or without http(s)/www.
							</li>
							<li>
								<dfn title="(([0-3][0-9]|[1-9])[\/\-\.]([0-1][0-9]|[1-9])[\/\-\.]([0-9][0-9])?[0-9][0-9])"><code>date</code></dfn>
								Date in day/month/year format with or without leading zeroes or century and separated by a point,
								hyphen or forward slash. Use <code>valid_date</code> method to strictly test if date is valid.
							</li>
							<li>
								<dfn title="(([0-2])?[0-9]:[0-5][0-9])"><code>time</code></dfn>
								Time in format hours:minutes with or without leading hour zero in 12 or 24 hour format.
							</li>
						</ul>

					</li>
				</ol>

			</dd>

			<dt>valid_date</dt>
			<dd>Test if a string is a valid date. Valid strings may include 1-1-2011, 1.1.11, 01/01/2011 etc. Option to use US
			month/day/year format. The arguments in order are <code>usa</code> (boolean) and <code>separator</code> (string).</dd>

			<dt>minimum_length</dt>
			<dd>A string is longer than argument characters. The argument is an integer.</dd>

			<dt>maximum_length</dt>
			<dd>A string is less than argument characters. The argument is an integer.</dd>

			<dt>greater_than</dt>
			<dd>A number is greater than argument. The argument is an integer.</dd>

			<dt>less_than</dt>
			<dd>A number is less than argument. The argument is an integer.</dd>

			<dt>error</dt>
			<dd>Define an error message for all validation methods performed for an input. The argument is a string.</dd>

		</dl>

		<h3 id="options">Options</h3>

		<dl>
			<dt>error_node</dt>
			<dd>
				<p>HTML element to wrap error message with. The default is <code>'span'</code>.</p>
			</dd>
			<dt>error_class</dt>
			<dd>
				<p>Class name string to apply to the error node. The default is <code>'error'</code>.</p>
			</dd>
			<dt>error_list_class</dt>
			<dd>
				<p>Class name string to apply to the ordered list of errors node. The default is <code>'error_list'</code>.</p>
			</dd>
			<dt>error_message</dt>
			<dd>
				<p>A default error message string for each invalid input.</p>
			</dd>
			<dt>error_display</dt>
			<dd>
				<p>Display errors boolean (you can always retrieve errors manually). The default is <code>true</code>.</p>
			</dd>
			<dt>error_placement</dt>
			<dd>
				<p>Show error messages within a list at the top of bottom of the form (<code>list-top</code>|<code>list-bottom</code>) or
				as a sibling to the input (<code>before</code>|<code>after</code>. The default is <code>'after'</code>.</p>
			</dd>
		</dl>

		<h4 id="extending">Extending</h4>

		<dl>
			<dt>Add another method to execute on form submission</dt>
			<dd>
				<p>The <code>bind</code> method can be used to add more event listeners.</p>

				<p><code>check_this.bind(function() {} );</code></p>
			</dd>
			<dt>Retrieving individual error messages</dt>
			<dd>
				<p>Generated error messages are stored within the object and can be read using the input ID as the key.</p>

				<p><code>check_this.errors[input_id];</code>
			</dd>
			<dt>Retrieving individual input valid boolean</dt>
			<dd>
				<p>Input valid or invalid boolean is stored within the object and can be read using the input ID as the key.</p>

				<p><code>check_this.valid[input_id];</code>
			</dd>
			<dt>Adding more regular expressions</dt>
			<dd>
				<p>The validation object comes with a number of basic regular expressions but more can be added using the new expression
				name as the key.</p>

				<p><code>check_this.expressions['slug'] = /[a-z0-9_]+?$/;</code></p>
			</dd>
		</dl>

		<h5>Example</h5>

		<form id="test" action="" method="get">
		<fieldset>

			<div class="row">
				<label for="name">Name</label>
				<input type="text" id="name" name="name" />
			</div>

			<div class="row">
				<label for="email-address">Email Address</label>
				<input type="text" id="email-address" name="email-address" />
			</div>

			<div class="row">
				<label for="confirm-email">Confirm Email Address</label>
				<input type="text" id="confirm-email" name="confirm-email" />
			</div>

			<div class="row">
				<label for="date">Date in d-m-yy or dd-mm-yyyy format (optional)</label>
				<input type="text" id="date" name="date" />
			</div>

			<div class="row checkbox">
				<label for="accept-terms" class="label-checkbox"><input type="checkbox" id="accept-terms" name="accept-terms" value="true" /> Accept terms</label>
			</div>

			<div class="row buttons">
				<button name="submit" type="submit">Validate</button>
			</div>

		</fieldset>
		</form>

		<h6>Sample code</h6>

		<p>The code below is used to validate the example form above.</p>

		<pre title="Javascript">
	var test_validate = Validate('test', {
		name: {
			present: [true, 'Please enter your name']
		},
		'email-address': {
			present: [true, 'Please enter your email address'],
			test: ['email', 'Please enter a valid email address']
		},
		'confirm-email': {
			present: true,
			match: 'email-address',
			error: 'Please confirm your email address'
		},
		date: {
			valid_date: [{usa: false, separator: '-'}, 'Please enter a valid date']
		},
		'accept-terms': {
			present: [true, 'You must accept the terms']
		}
	}, {
		error_placement:'list-top'
	});
		</pre>

	</div>

	<script src="validation.js"></script>
	<script>
	var test_validate = Validate('test', {
		name: {
			present: [true, 'Please enter your name']
		},
		'email-address': {
			present: [true, 'Please enter your email address'],
			test: ['email', 'Please enter a valid email address']
		},
		'confirm-email': {
			present: true,
			match: 'email-address',
			error: 'Please confirm your email address'
		},
		date: {
			valid_date: [{usa: false, separator: '-'}, 'Please enter a valid date']
		},
		'accept-terms': {
			present: [true, 'You must accept the terms']
		}
	}, {
		error_placement:'list-top'
	});
	</script>

</body>
</html>